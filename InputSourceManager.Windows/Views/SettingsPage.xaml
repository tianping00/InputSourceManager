<UserControl x:Class="InputSourceManager.Windows.Views.SettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    <ScrollViewer>
        <StackPanel Margin="16">
            <!-- 开机自启动设置 -->
            <GroupBox Header="开机自启动" Margin="0,0,0,16">
                <StackPanel Margin="16">
                    <TextBlock Text="设置程序在系统启动时自动运行" 
                               Style="{DynamicResource MaterialDesignBody2TextBlock}"
                               Margin="0,0,0,8"/>
                    <CheckBox x:Name="ChkAutoStart" Content="开机自启动" 
                              Style="{DynamicResource MaterialDesignCheckBox}"
                              Checked="ChkAutoStart_Checked" Unchecked="ChkAutoStart_Unchecked"/>
                    <TextBlock Text="注意：此功能需要用户权限，某些安全软件可能会阻止" 
                               Style="{DynamicResource MaterialDesignCaptionTextBlock}"
                               Foreground="Gray" Margin="0,8,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- 检测设置 -->
            <GroupBox Header="检测设置" Margin="0,0,0,16">
                <Grid Margin="16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="检测间隔 (毫秒):" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}"/>
                    <TextBox Grid.Row="1" Grid.Column="0" x:Name="TxtDetectionInterval" 
                             Style="{DynamicResource MaterialDesignOutlinedTextBox}"
                             Text="1200" Margin="0,8,8,0" materialDesign:HintAssist.Hint="1000-5000"/>

                    <TextBlock Grid.Row="0" Grid.Column="1" Text="最小化到托盘:" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}"/>
                    <CheckBox Grid.Row="1" Grid.Column="1" x:Name="ChkMinimizeToTray" 
                              Content="关闭窗口时最小化到系统托盘" 
                              Style="{DynamicResource MaterialDesignCheckBox}"
                              IsChecked="True" Margin="0,8,0,0"/>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="显示输入法指示器:" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}" Margin="0,16,0,0"/>
                    <CheckBox Grid.Row="2" Grid.Column="1" x:Name="ChkShowIndicator" 
                              Content="切换输入法时显示悬浮指示器" 
                              Style="{DynamicResource MaterialDesignCheckBox}"
                              IsChecked="True" Margin="0,16,0,0"/>
                </Grid>
            </GroupBox>

            <!-- 热键设置 -->
            <GroupBox Header="热键设置" Margin="0,0,0,16">
                <Grid Margin="16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="切换输入法热键:" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}"/>
                    <TextBox Grid.Row="1" Grid.Column="0" x:Name="TxtToggleHotkey" 
                             Style="{DynamicResource MaterialDesignOutlinedTextBox}"
                             Text="Ctrl+Alt+Space" Margin="0,8,8,0" 
                             materialDesign:HintAssist.Hint="例如: Ctrl+Alt+Space"/>

                    <TextBlock Grid.Row="0" Grid.Column="1" Text="显示主窗口热键:" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" x:Name="TxtShowWindowHotkey" 
                             Style="{DynamicResource MaterialDesignOutlinedTextBox}"
                             Text="Ctrl+Alt+I" Margin="0,8,8,0" 
                             materialDesign:HintAssist.Hint="例如: Ctrl+Alt+I"/>

                    <Button Grid.Row="1" Grid.Column="2" x:Name="BtnApplyHotkeys" Content="应用热键" 
                            Style="{DynamicResource MaterialDesignRaisedButton}"
                            VerticalAlignment="Bottom" Click="BtnApplyHotkeys_Click"/>
                </Grid>
            </GroupBox>

            <!-- 输入法设置 -->
            <GroupBox Header="输入法设置" Margin="0,0,0,16">
                <Grid Margin="16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="默认中文输入法:" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}"/>
                    <ComboBox Grid.Row="1" Grid.Column="0" x:Name="CmbDefaultChinese" 
                              Style="{DynamicResource MaterialDesignOutlinedComboBox}"
                              Margin="0,8,8,0" materialDesign:HintAssist.Hint="选择默认中文输入法"/>

                    <TextBlock Grid.Row="0" Grid.Column="1" Text="默认英文输入法:" 
                               Style="{DynamicResource MaterialDesignBody1TextBlock}"/>
                    <ComboBox Grid.Row="1" Grid.Column="1" x:Name="CmbDefaultEnglish" 
                              Style="{DynamicResource MaterialDesignOutlinedComboBox}"
                              Margin="0,8,0,0" materialDesign:HintAssist.Hint="选择默认英文输入法"/>

                    <Button Grid.Row="2" Grid.Column="0" x:Name="BtnRefreshInputSources" Content="刷新输入法列表" 
                            Style="{DynamicResource MaterialDesignRaisedButton}"
                            Margin="0,16,8,0" Click="BtnRefreshInputSources_Click"/>
                    <Button Grid.Row="2" Grid.Column="1" x:Name="BtnTestInputSources" Content="测试输入法切换" 
                            Style="{DynamicResource MaterialDesignRaisedButton}"
                            Margin="0,16,0,0" Click="BtnTestInputSources_Click"/>
                </Grid>
            </GroupBox>

            <!-- 高级选项 -->
            <GroupBox Header="高级选项" Margin="0,0,0,16">
                <StackPanel Margin="16">
                    <CheckBox x:Name="ChkEnableLogging" Content="启用详细日志记录" 
                              Style="{DynamicResource MaterialDesignCheckBox}" Margin="0,0,0,8"/>
                    <CheckBox x:Name="ChkEnableDebugMode" Content="启用调试模式" 
                              Style="{DynamicResource MaterialDesignCheckBox}" Margin="0,0,0,8"/>
                    <CheckBox x:Name="ChkEnablePerformanceMonitoring" Content="启用性能监控" 
                              Style="{DynamicResource MaterialDesignCheckBox}" Margin="0,0,0,8"/>
                    <CheckBox x:Name="ChkEnableAutoUpdate" Content="检查更新" 
                              Style="{DynamicResource MaterialDesignCheckBox}"/>
                </StackPanel>
            </GroupBox>

            <!-- 操作按钮 -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,16,0,0">
                <Button x:Name="BtnSaveSettings" Content="保存设置" 
                        Style="{DynamicResource MaterialDesignRaisedButton}"
                        Width="120" Margin="0,0,16,0" Click="BtnSaveSettings_Click"/>
                <Button x:Name="BtnResetSettings" Content="重置设置" 
                        Style="{DynamicResource MaterialDesignOutlinedButton}"
                        Width="120" Margin="0,0,16,0" Click="BtnResetSettings_Click"/>
                <Button x:Name="BtnExportSettings" Content="导出设置" 
                        Style="{DynamicResource MaterialDesignOutlinedButton}"
                        Width="120" Click="BtnExportSettings_Click"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</UserControl>





