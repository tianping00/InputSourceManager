<Window x:Class="InputSourceManager.Windows.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
		xmlns:views="clr-namespace:InputSourceManager.Windows.Views"
		Title="Input Source Manager" Height="700" Width="1000"
		WindowStartupLocation="CenterScreen"
		Background="{DynamicResource MaterialDesignPaper}">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16">
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center">
				<materialDesign:PackIcon Kind="Keyboard" Width="28" Height="28" Margin="0,0,12,0"/>
				<TextBlock Text="Input Source Manager" FontSize="20" FontWeight="Bold"/>
				<TextBlock x:Name="TxtVersion" Text="v1.0.0" Margin="16,0,0,0" VerticalAlignment="Center"/>
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
					<Button x:Name="BtnMinimizeToTray" Content="最小化到托盘" Margin="16,0,0,0" Click="BtnMinimizeToTray_Click"/>
				</StackPanel>
			</StackPanel>
		</materialDesign:ColorZone>

		<TabControl Grid.Row="1" Margin="16">
			<TabItem Header="状态">
				<Grid Margin="12">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="2*"/>
						<ColumnDefinition Width="3*"/>
					</Grid.ColumnDefinitions>

					<StackPanel Grid.Column="0">
						<TextBlock Text="当前应用程序" FontWeight="Bold"/>
						<TextBlock x:Name="TxtCurrentApp" Text="-" Margin="0,6,0,16"/>
						<TextBlock Text="当前输入法" FontWeight="Bold"/>
						<TextBlock x:Name="TxtCurrentLayout" Text="-" Margin="0,6,0,16"/>
						<StackPanel Orientation="Horizontal" Margin="0,8,0,0">
							<Button x:Name="BtnRefresh" Content="刷新" Width="96" Margin="0,0,8,0" Click="BtnRefresh_Click"/>
							<Button x:Name="BtnToggle" Content="切换中/英" Width="120" Click="BtnToggle_Click"/>
						</StackPanel>
					</StackPanel>

					<GroupBox Grid.Column="1" Header="热键与托盘">
						<StackPanel Margin="12">
							<TextBlock Text="全局快捷键（默认 Ctrl+Alt+Space）"/>
							<TextBox x:Name="TxtHotkey" Text="Ctrl+Alt+Space" Margin="0,6,0,12"/>
							<Button x:Name="BtnApplyHotkey" Content="应用快捷键" Width="120" Click="BtnApplyHotkey_Click"/>
							<Separator Margin="0,12,0,12"/>
							<CheckBox x:Name="ChkAutoStart" Content="开机自启动" IsChecked="False"/>
							<CheckBox x:Name="ChkAutoSwitch" Content="启用自动切换" IsChecked="True"/>
						</StackPanel>
					</GroupBox>
				</Grid>
			</TabItem>

			<TabItem Header="规则配置">
				<views:RulesPage x:Name="RulesPageControl"/>
			</TabItem>

			<TabItem Header="高级设置">
				<views:SettingsPage x:Name="SettingsPageControl"/>
			</TabItem>

			<TabItem Header="关于">
				<StackPanel Margin="12">
					<TextBlock Text="受 InputSourcePro 启发，Windows 版本实现。" FontSize="16" Margin="0,0,0,16"/>
					<TextBlock Text="支持浏览器扩展 URL 检测和规则自动切换。" Margin="0,0,0,16"/>
					<TextBlock Text="功能特性：" FontWeight="Bold" Margin="0,0,0,8"/>
					<TextBlock Text="• 开机自启动" Margin="20,0,0,4"/>
					<TextBlock Text="• 高级设置界面" Margin="20,0,0,4"/>
					<TextBlock Text="• 规则编辑对话框" Margin="20,0,0,4"/>
					<TextBlock Text="• 实时 URL 检测" Margin="20,0,0,4"/>
					<TextBlock Text="• 智能规则引擎" Margin="20,0,0,4"/>
					<TextBlock Text="• 配置持久化" Margin="20,0,0,4"/>
				</StackPanel>
			</TabItem>
		</TabControl>

		<StatusBar Grid.Row="2">
			<StatusBarItem>
				<TextBlock x:Name="TxtStatus" Text="就绪"/>
			</StatusBarItem>
		</StatusBar>
	</Grid>
</Window>
